<h1>Edit Order</h1>

<form method="POST" action="/orderlist/{{order._id}}/edit" id="order">

  <!--############# Adress section #############-->
  <div class="field">
    <label>Address Line 1:</label>
    <input type="text" name="addressLine1" value="{{order.address.addressLine1}}" />
  </div>
  <div class="field">
    <label>Address Line 2:</label>
    <input type="text" name="addressLine2" value="{{order.address.addressLine2}}" />
  </div>
  <div class="field">
    <label>City</label>
    <input type="text" name="city" value="{{order.address.city}}" />
  </div>

  <div class="field">
    <label>Postcode</label>
    <input type="text" name="postcode" value="{{order.address.postcode}}" />
  </div>

  <div class="field">
    <label>Phone Number</label>
    <input type="text" name="phoneNumber" value="{{order.phoneNumber}}" />
  </div>


  <!--############# Food Select section #############-->

  <input type="checkbox" id="{{order.undesiredFoodType}}" value="american" class="selectedFoods" name="undesiredFoodType"
    unchecked>
  <label for="american">American</label>

  <input type="checkbox" id="chinese" value="chinese" name="undesiredFoodType" unchecked>
  <label for="chinese">chinese</label>

  <input type="checkbox" id="spanish" value="spanish" name="undesiredFoodType" unchecked>
  <label for="spanish">Spanish</label>

  <input type="checkbox" id="indian" value="indian" name="undesiredFoodType" unchecked>
  <label for="indian">Indian</label>

  <input type="checkbox" id="italian" value="italian" name="undesiredFoodType" unchecked>
  <label for="italian">Italian</label>

  <input type="checkbox" id="japanese" value="japanese" name="undesiredFoodType" unchecked>
  <label for="japanese">Japanese</label>

  <input type="checkbox" id="turkish" value="turkish" name="undesiredFoodType" unchecked>
  <label for="turkish">Turkish</label>

  <input type="checkbox" id="mexican" value="mexican" name="undesiredFoodType" unchecked>
  <label for="mexican">Mexican</label>

  <!--############# Allergies #############-->
  <div class="field">
    <label>Allergies</label>
    <input type="text" name="allergies" value="{{order.allergies}}" />
  </div>
  <!--############# Dietry requirements #############-->

  <div class="field">
    <label>dietary requirements</label>
    <input type="text" name="dietaryRequirements" value="{{order.dietaryRequirements}}" />
  </div>


  <!--############# budget #############-->


  <input type="range" min="10" max="100" value="50" name="budget" value="{{order.budget}}" />

  <!--############# Quantity #############-->
  <input type="range" min="1" max="8" value="2" name="numberOfFoodeez" value="{{order.numberOfFoodeez}}" />

  <div class="field submit">
    <button type="submit">Edit</button>
  </div>
</form>

<script>
  const checkBoxes = () => {


    const topList = document.querySelector('.selectedFoods');
    const checkOptions = document.getElementsByTagName('input');


    let foodOptions = topList.getAttribute('id');

    foodOptions = foodOptions.split(',')


    for (let i = 0; i < foodOptions.length; i++) {
      let foodOption = foodOptions[i]
      for (let i = 0; i < checkOptions.length; i++) {

        if (checkOptions[i].value === foodOption) {
          checkOptions[i].checked = true;

        }
      }
    }

  }

  checkBoxes();
</script>